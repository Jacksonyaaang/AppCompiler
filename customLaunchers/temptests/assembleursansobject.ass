; start main program
        TSTO #1 ; 0 (temporary & params on stack) + 1 (variables) + 0 (registers)
        BOV stack_overflow_error
        ADDSP #1
; Main program
; Variables declarations:
; Beginning of main instructions:
; allocate R2 (> 1 register available in assignment with non-trivial RHS)
        RINT
        BOV io_error
        LOAD R1, R3
; release R2
        STORE R3, 1(GB) ; assignment
        LOAD R3, R2 ; return value of assignment
; Expression value computed in R2 ignored
        LOAD #0x1.0p-1, R2 ; Float constant
; allocate R2 (> 1 reg available in binary expression with non-trivial RHS)
        LOAD 1(GB), R3
; simple binary expression
        MUL 1(GB), R3 ;
; No need for overflow check for type int
        FLOAT R3, R3
; release R2
; non-trivial expression, registers available
        MUL R3, R2 ;
        BOV overflow_error ; Overflow check for previous operation
        LOAD R2, R1 ; Load in R1 to be able to display
        WFLOAT
        WNL
        HALT
; end main program
overflow_error:
        WSTR "Error: Overflow during arithmetic operation"
        WNL
        ERROR
stack_overflow_error:
        WSTR "Error: Stack Overflow"
        WNL
        ERROR
io_error:
        WSTR "Error: Input/Output error"
        WNL
        ERROR
